<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Generating an Extended EMF Model</title>
<link rel="stylesheet" href="images/../../../css/book.css" type="text/css" />
<link rel="stylesheet" href="images/../../../css/emf-book.css" type="text/css" />
</head>
<body lang="EN-US" xml:lang="EN-US">

<h1>Generating an Extended EMF Model</h1>

<blockquote>

<b>Summary</b>
<p>This tutorial is a follow-on to the tutorial "Generating an EMF
Model" in which a simple "library" model is generated. In that
tutorial, we showed how an EMF model can be generated very easily
from a Rose model or a set of Java interface files. In this
tutorial, we will show you how an extended EMF model, one that
extends an existing model, can be generated.</p>

<p>First of all, let us review what the "library" model
contains:<br />
<img src="images/model001.gif" border="0" alt=""/><br />
</p>

<p>We are now going to extend this "library" model by creating a
new package called "schoollibrary". The "schoollibrary" package
contains three classes, two of which extend classes in the
"library" model:<br />
<br />
<img src="images/model002.gif" border="0" alt=""/><br />
</p>

<p>This tutorial will show you step-by-step how to generate an EMF
model of this "schoollibrary" package using the existing "library"
model. As in the previous tutorial, we will demonstrate creating
this new model from a Rose model and from a set of Java
interfaces.</p>

<p>The screenshots are based on version <a target="_req" href="http://download2.eclipse.org/downloads/drops/S-3.0M9-200405211200/index.php">3.0M9 of the Eclipse SDK </a> and
version <a target="_req" href="http://download.eclipse.org/tools/emf/scripts/downloads-viewer.php?s=2.0/I200405200923">2.0.0 (build I200405200923) of the combined EMF, SDO, XSD SDKs</a>.</p>

		<p>Last update: May 31, 2004.</p>

		</blockquote>

<hr width="100%" />

<h2>Contents</h2>

<table border="0" cellspacing="2" cellpadding="2"
width="100%">
<tr>
<td valign="top" >Step 0:</td>
<td valign="top"><a href="#step0">Prerequisites</a></td>
</tr>

<tr>
<td valign="top">Step 1:</td>
<td valign="top">Creating a New EMF Model Project from <a
href="#step1a">a Rose Model</a> or <a href="#step1b">Java
Interfaces</a> </td>
</tr>

<tr>
<td valign="top">Step 2:</td>
<td valign="top"><a href="#step2">Generating the EMF Model and the
Editor</a> </td>
</tr>

<tr>
<td valign="top">Step 3:</td>
<td valign="top"><a href="#step3">Running the Generated Editor</a>
</td>
</tr>

<tr>
<td valign="top">Step 4:</td>
<td valign="top"><a href="#step4">Modifying the Editor<br />
</a> </td>
</tr>

<tr>
<td valign="top">Appendix:<br />
 </td>
<td valign="top"><a href="#appendix">An Alternative Way of
Generating the Model and Editor</a><br />
 </td>
</tr>
</table>

<br />
<hr />
<p style="text-align: right"><a id="step0"
name="step0">&nbsp;</a><a href="#top">contents</a></p>

<h2>Step 0: Prerequisites</h2>

<p>You have generated the library model as well as its editor in an
Eclipse workspace following the instructions in the tutorial <a
href="../../tutorials/clibmod/clibmod.html">"Generating an EMF
Model"</a>.</p>

<ul>
<li>Launch Eclipse and verify that these three projects are shown
in the Navigator view in the Resource perspective: "library",
"library.edit", and "library.editor".<br />
<br />
<img src="images/img001.gif" border="0" alt=""/>
&nbsp;<br />
&nbsp;</li>

<li>If these packages are not listed, see the <a href="#appendix">Appendix</a> for how to recreate them (if you want to skip the <a
href="../../tutorials/clibmod/clibmod.html">above tutorial</a>).<br />
<br />
</li>
</ul>

<hr />
<p style="text-align: right"><a id="step1a"
name="step1a">&nbsp;</a><a href="#top">contents</a></p>

<h2>Step 1a: Creating a New EMF Model from a Rose Model</h2>

<p>Save the Rose model file <a target="_code"
href="images/../schoollibrary.mdl">schoollibrary.mdl</a> somewhere
on your workstation, say, d:\tmp\lib. It contains both the
"library" and "schoollibrary" packages:<br />
<br />
<img src="images/rose001.gif" alt=""/><br />
</p>

<p><br />
We should really place each of the packages in a separate ".cat"
file and reference them in the ".mdl" file. This would enable the
packages to be shared by various models. However, this is not the
key for this tutorial, we have duplicated the "library" package in
the previous tutorial in the "schoollibrary" model. The generator
behaves exactly the same whether the package is contained inside
the same ".mdl" file or referenced in an external ".cat"
file.<br />
</p>

<p>The following steps will create a new EMF model project in the
workspace:</p>

<ul>
<li>Select "File/New/Project..." to bring up the New Project
dialog.<br />
 <img src="images/../../clibmod/images/img041.gif" alt="" />
&nbsp;<br />
&nbsp;</li>

<li>Select "Eclipse Modeling Framework" and then "EMF Project".
Click the "Next" button.<br />
 <img src="images/../../clibmod/images/img005.gif" alt="" />
&nbsp;<br />
&nbsp;</li>

<li>Give the project a name (for example, "schoollibrary"), and
then click the "Next" button.<br />
 <img src="images/img002.gif" alt="" />
&nbsp;<br />
&nbsp;</li>

<li>Select "Load from a Rose model" and click the "Next"
button.<br />
 <img src="images/../../clibmod/images/img007.gif" alt=""/><br />
 &nbsp;<br />
&nbsp;</li>

<li>Click on the "Browse" button and use the file dialog to locate
the Rose model file. EMF will examine the Rose model file and suggest a default
GenModel name. You can change the name in the entry field if you
wish. Click the "Next" button to begin creating packages.<br />
<img src="images/img003.gif" width="548" height="400" border="0" alt=""/>
&nbsp;<br />
&nbsp;</li>

<li>The Rose model contains two packages, "library" and
"schoollibrary". Select "schoollibrary". It is the model we want to
generate. We want to reuse the existing "library" model, so we
don't check the "library" package. However, because "schoollibrary"
references the "library" model, we need to specify where to find
the "library" model. Click the "Browse" button.<br />
 <img src="images/img004.gif" alt=""/><br />
<br />
</li>

<li>EMF will search the workspace and locate all the models it can
find. Select the project and path where the "library.genmodel" is
found. Click the "OK" button.<br />
 <img src="images/img005.gif" alt=""/><br />
&nbsp;</li>

<li>Select the Library package (in the library's .genmodel tree)
that you want to reference. As soon as you select the "Library"
package, note that the error message disappears. Click the "Finish"
button.<br />
 <img src="images/img006.gif" alt=""/><br />
&nbsp;</li>

<li>An Ecore model and a GenModel will be created. The GenModel,
which controls code generation for the model, is opened in the main
view.<br />
 <img src="images/img007.gif" alt="" />
&nbsp;<br />
&nbsp;</li>
</ul>

<hr />
<p style="text-align: right"><a id="step1b"
name="step1b">&nbsp;</a><a href="#top">contents</a></p>

<h2>Step 1b: Creating a New EMF Model from Java Interfaces</h2>

Here are the annotated Java interfaces for the "schoollibrary"
package. We can create the GenModel from these interface files
instead of a Rose model. 

<blockquote><b><a target="_code"
href="images/../SchoolLibrary.java">SchoolLibrary.java</a></b><a name="SchoolLibrary.java">&nbsp;</a><br />
<table border="1" frame="box">
<tr>
<td><pre>package org.eclipse.example.schoollibrary;

import org.eclipse.example.library.Library;

/**
 * @model
 */
public interface SchoolLibrary extends Library
{
 /**
   * @model
  */
 String getLocation();
}</pre>
</td>
</tr>
</table>
</blockquote>

<blockquote><b><a target="_code"
href="images/../Asset.java">Asset.java</a></b><a name="Asset.java">&nbsp;</a><br />
<table border="1" frame="box">
<tr>
<td><pre>package org.eclipse.example.schoollibrary;

/**
 * @model
 */
public interface Asset
{
/**
   * @model
  */
 float getValue();
}</pre>
</td>
</tr>
</table>
</blockquote>

<blockquote><b><a target="_code"
href="images/../SchoolBook.java">SchoolBook.java</a></b><a name="SchoolBook.java">&nbsp;</a><br />
<table border="1" frame="box">

<tr>
<td valign="CENTER">
<pre>
package org.eclipse.example.schoollibrary;

import org.eclipse.example.library.Book;

/**
 * @model
 */
public interface SchoolBook extends Book, Asset
{
}</pre>
</td>
</tr>

</table>
</blockquote>

<ol type="A">
<li>
<h4>Create a Java Project</h4>

<ul>
<li>Select "File/New/Project..." to bring up the New Project
dialog:<br />
 <img src="images/../../clibmod/images/img041.gif" alt="" />
<br />
</li>

<li>Select "Java" and then "Java Project". Click the "Next"
button.<br />
 <img src="images/../../clibmod/images/img012.gif" alt="" />
<br />
</li>

<li>Give the project a name, for example "schoollibrary", and click
the "Next" button.<br />
 <img src="images/img002.gif" alt=""/><br />
<br />
</li>

<li>Select "Add Folder...", click on the "Create New Folder..."
button, and enter "src" as the name of the source folder. <br />
 <img src="images/img008.gif" alt=""/><br />
<br />
</li>

<li>You'll be
prompted to update the Build ouptut folder, click "Yes".<br />
 <img src="images/img009.gif" alt=""/><br />
<br />
</li>

<li>Change the Default output folder to
"schoollibrary/runtime".<br />
 <img src="images/img010.gif" alt=""/><br />
<br />
</li>

<li>Select the "Projects" tab and select the "library" project as a
dependent project.<br />
 <img src="images/img011.gif" alt=""/><br />
<br />
</li>

<li>Click the "Finish" button and the "schoollibrary" project
should appear in the Package Explorer view.<br />
 <img src="images/img012.gif" alt=""/><br />
</li>
</ul>
</li>

<li>
<h4>Import the Interfaces</h4>

You can create and type in the interfaces as in the previous
tutorial, but we will show here how to import them from the zip
file <a
href="images/../schoollibrary.zip">schoollibrary.zip</a>.<br />
<br />
 

<ul>
<li>Save the above zip file in a directory on your workstation, say
"d:\tmp".<br />
<br />
</li>

<li>Bring up the Import dialog, by selecting "File/Import..." (or right-click your Package Explorer).<br />
 <img src="images/img013.gif" alt=""/><br />
<br />
</li>

<li>Select "Zip file". Click the "Next" button.<br />
 <img src="images/img014.gif" alt=""/><br />
<br />
</li>

<li>Type in the zip file name or use the "Browse" button to bring
up a dialog to locate the zip file. You can then expand the
directory tree (hit the asterisk (*) on your keypad to expand all) and select the individual files in the zip file to
import. Select all the files (3) available. In the "Into folder:" input field, type in
"schoollibrary2/src" or locate it using the "Browse" button. Click
the "Finish" button.<br />
 <img src="images/img015.gif" alt=""/><br />
<br />
</li>

<li>Expand the "schoollibrary2" project and you will see that the
interface files were imported. It shows errors because the
"library" project it depends on has been fully generated and it
requires the EMF package in the Java Build Path to properly compile
the interfaces. Do not worry about the errors right now. Once the
EMF model is generated, the proper dependencies will be set up and
these errors will disappear.<br />
 <img src="images/img016.gif" alt=""/><br />
<br />
</li>
</ul>
</li>

<li>
<h4>Create the Gen(erate) Model</h4>

<ul>
<li>With the "schoollibrary2" project selected, right-click the "src" folder and select "New/Other..." from the pop-up menu (or just hit CTRL-N). Select "Eclipse Modeling Framework" and "EMF Models". Click the "Next" button.<br />
 <img src="images/../../clibmod/images/img022.gif" alt=""/><br />
<br />
</li>

<li>Enter "schoollibrary2/src/model" as the name of the folder where
the genmodel will be generated and change the .genmodel name to
"schoollibrary2.genmodel". (This folder name and file name are used
so that the GenModel is generated in the same place as in the other
method using a Rose model.) Click the "Next" button.<br />
 <img src="images/img017.gif" alt=""/><br />
<br />
</li>

<li>Select "Load from Java annotations". Click the "Next"
button.<br />
 <img src="images/../../clibmod/images/img024.gif" alt=""/><br />
<br />
</li>

<li>Select schoollibrary package. Click the "Finish" button.<br />
 <img src="images/img018.gif" alt=""/><br />
<br />
</li>

<li>An Ecore model and a GenModel will be created. The GenModel,
which controls code generation for the model, is opened in the main
view.<br />
 <img src="images/img019.gif" alt=""/><br />
<br />
</li>
</ul>
</li>
</ol>

<hr />
<p style="text-align: right"><a id="step2"
name="step2">&nbsp;</a><a href="#top">contents</a></p>

<h2>Step 2: Generating the EMF Model and the Editor</h2>

<p>The GenModel shows a root object, which represents the whole
model. The immediate children under the root object represent the
packages inside the model.</p>

<ul>
<li>The GenModel can be expanded to see its various elements. The
icon for the "Library" package has a superimposed arrow indicating
it is a reference to a package defined somewhere else.<br />
&nbsp;</li>

<li>You can generate the model code and the editors for all the
packages in the GenModel in one step by right-clicking on the the
root element of the GenModel tree and selecting the "Generate All"
menu item. EMF will update the plugin.xml, the Java Build Path and
the dependent libraries for the plugin as well. No code for any
referenced model ("library" in this example) will be
generated.<br />
 <img src="images/img020.gif" alt=""/><br />

 &nbsp; &nbsp;</li>

<li>The "schoollibrary.edit" and "schoollibrary.editor" (and "schoollibrary2.edit" and "schoollibrary2.editor", if you built both from Rose and Annotated Java) projects
should be generated and shown in the Navigator view if you are in
the Resource perspective (or in the Package Explorer view if you
are in the Java perspective.) The generated code will be compiled
and is ready to execute.<br />
<br />
 <img src="images/img021.gif" alt="" align="top" /><br />
<br />
&nbsp;</li>
</ul>

<hr />
<p style="text-align: right"><a id="step3"
name="step3">&nbsp;</a><a href="#top">contents</a></p>

<h2>Step 3: Running the Generated Editor</h2>

<p>Before a run-time workbench instance can be run, a launch
configuration need to be setup.&nbsp;</p>

<ul>
<li>Switch to the Debug &nbsp;perspective and configure a launch
configuration as described in <a href="images/../../clibmod/clibmod.html#step4">Step 4</a> of the
previous tutorial if it has not already been set up.<br />
&nbsp;</li>

<li>&nbsp;Launch a run-time workbench instance, either from the
configuration dialog or the Run menu:<br />
<br />
 <img src="images/../../clibmod/images/img039.gif" alt="Library Configuration - Run button"
 /> or <img src="images/../../clibmod/images/img039b.gif" alt="Library Configuration - Run menu"/><br />
<br />
</li>

<li>Wait for the run-time workbench instance to come up. Bring up
the "Help/About Eclipse Platform" dialog, click on the "Plug-in
Details" button, and verify that the generated plugins are
loaded.<br />
 <img src="images/img022.gif" alt=""/><br />
&nbsp;</li>
</ul>

<p>The school library model wizard can now be used to create a new
instance of the model.</p>

<ul>
<li>Bring up the "File/New/Project..." dialog and select "Simple"
followed by "Project". Give the project a name and click the
"Finish" button.<br />
 <img src="images/img023.gif" alt=""/><br />
 &nbsp;</li>

<li>Right-click the project and select "New/Other..." from the
pop-up menu. Select "Example EMF Model Creation Wizards" and "Schoollibrary
Model". Click the "Next" button.<br />
 <img src="images/img024.gif" alt=""/><br />
&nbsp;</li>

<li>Enter a file name for the "schoollibrary" model. Make sure it
ends with a ".schoollibrary" extension. Click the "Next"
button.<br />
 <img src="images/img025.gif" alt=""/><br />
&nbsp;</li>

<li>Select "SchoolLibrary" as the root model object and click the
"Finish" button.<br />
 <img src="images/img026.gif" alt=""/><br />
&nbsp;&nbsp; &nbsp;&nbsp;</li>

<li>The "My.schoollibrary" resource should open up in the
&nbsp;main window. Note that the root object is indeed a "School
Library". Enter some values for the "Location" and "Name"
attributes in the Properties view. Refer to the previous tutorial
or the manual on how to open the Properties view if it is not
already opened.<br />
 <img src="images/img027.gif" alt=""/><br />
&nbsp;</li>

<li>Right-click on the School Library and select "New Child".
Notice that three kinds of objects can be created under a School
Library: "Writer", "Book", and "School Book". "Writer" and "Book"
are defined in the "library" package while "SchoolBook" is defined
in the "schoollibrary" package.<br />
 <img src="images/img028.gif" alt=""/><br />
&nbsp;</li>

<li>Create a couple "Writer" objects, a "Book" object and a "School
Book" object. Notice that a "School Book" object inherits all the
attributes of a "Book" object plus one extra attribute ("value") as
we intended.<br />
 <img src="images/img029.gif" alt=""/><br />
<br />
 <img src="images/img030.gif" alt="" />
<br />
<br />
 <img src="images/img031.gif" alt="" />
&nbsp;<br />
</li>

<li>Save the model. Note that unlike other editors, this one uses standard Windows Control-keys like CTRL-S for Save, CTRL-X for Cut, and CTRL-V for Paste, instead of CTRL-X-S for Save. <br />

&nbsp; &nbsp;&nbsp;<br />
</li>
</ul>

<hr />
<p style="text-align: right"><a id="step4"
name="step4">&nbsp;</a><a href="#top">contents</a></p>

<h2>Step 4: Modifying the Editor</h2>

<p>This part of the tutorial will show you how you can change the
label in the generated editor in a number of ways.</p>

<p>Quit the run-time workbench instance and go back to the Resource
perspective of the original Eclipse workbench with the
"schoollibrary" genmodel.</p>

<ul>
<li>Select the "SchoolLibrary" item. In the Properties view, change
the "Label Feature" property to the attribute "location". This will
cause the value of the "location" attribute (instead of the "name"
attribute) to be displayed as the label to SchoolLibrary objects in
the editor. The default attribute to use for this value is the
attribute named "name" (or one that ends with "name") if it
exists.<br />
<br />
 <img src="images/img032.gif" alt=""/><br />
 &nbsp; &nbsp;</li>

<li>&nbsp;To have the change take effect, we don't have to
re-generate all the classes. All we need to regenerate is the
provider class related to "SchoolLibrary". Save your changes (CTRL-X-S), then 
right-click on "SchoolLibrary" and select "Generate Edit Code".
There is also no harm in re-generating all the classes - it just takes longer.<br />
<br />
 <img src="images/img033.gif" alt=""/><br />
<br />
</li>

<li>You can examine the timestamps on the generated files to
satisfy yourself that indeed only "SchoolLibraryItemProvider.java"
was re-generated. The following table summarizes the files that
will be generated with the "Generate Model Code", "Generate Edit
Code" and "Generate Editor Code" menu items when you right-click on
the different objects. The "Generate All" menu item is equivalent
to selecting the three menu items together.<br />
<br />
 

<table cellpadding="2" cellspacing="2" border="1"
width="100%">

<tr>
<td valign="top"><br />
 </td>
<td valign="top">Generate Model Code<br />
 </td>
<td valign="top">Generate Edit Code<br />
 </td>
<td valign="top">Generate Editor Code<br />
 </td>
</tr>

<tr>
<td valign="top">Model &lt;M&gt;<br />
 </td>
<td valign="top">plugin.xml<br />
&lt;M&gt;Plugin.java<br />
(and files associated with each package in the model)<br />
 </td>
<td valign="top">plugin.xml<br />
plugin.properties<br />
&lt;M&gt;EditPlugin.java<br />
(and files associated with each package in the model)<br />
 </td>
<td valign="top">plugin.xml<br />
plugin.properties<br />
&lt;M&gt;EditorPlugin.java<br />
(and files associated with each package in the model)<br />
 </td>
</tr>

<tr>
<td valign="top">Package &lt;P&gt;<br />
 </td>
<td valign="top">&lt;P&gt;Package.java<br />
&lt;P&gt;PackageImpl.java<br />
&lt;P&gt;Factory.java<br />
&lt;P&gt;FactoryImpl.java<br />
&lt;P&gt;Switch.java<br />
&lt;P&gt;AdaptorFactory.java<br />
&lt;P&gt;ResourceImpl.java<br />
&lt;P&gt;ResourceFactory.java<br />
(and files associated with each Class and Enum in the
package)<br />
 </td>
<td valign="top">&lt;P&gt;ItemProviderAdaptorFactory.java<br />
(and files associated with each Class in the package)<br />
 </td>
<td valign="top">&lt;P&gt;Editor.java<br />
&lt;P&gt;ModelWizard.java<br />
&lt;P&gt;ActionBarContributor.java<br />
 <br />
 </td>
</tr>

<tr>
<td valign="top">Class &lt;C&gt;<br />
 </td>
<td valign="top">&lt;C&gt;.java<br />
&lt;C&gt;Impl.java<br />
 </td>
<td valign="top">&lt;C&gt;ItemProvider.java<br />
 </td>
<td valign="top"><br />
 </td>
</tr>

<tr>
<td valign="top">Enum &lt;E&gt;<br />
 </td>
<td valign="top">&lt;E&gt;.java<br />
 </td>
<td valign="top"><br />
 </td>
<td valign="top"><br />
 </td>
</tr>

</table>

<br />
</li>

<li>Now you can switch to the Debug perspective and launch the
run-time workbench instance again. Open the "My.schoollibrary"
resource again if it was closed before. Expand the GenModel and
select the "School Library" object. You can see that the location
of the school library is shown in the label instead of its
name.<br />
 <img src="images/img034.gif" alt=""/><br />
 &nbsp; &nbsp;</li>
</ul>

<ul>
<li>Suppose that now you don't like the prefix "School Library" in
the label and want to get rid of it. The only way to do this is to
edit the code, but it is still quite simple to do. All the values
of the various properties that are displayed are supplied to the UI
code through the Item Providers. For text labels, they are supplied
through the "getText()" method in the Item Provider.<br />
<br />
</li>

<li>Expand the "schoollibrary.edit" (or "schoollibrary2.edit") project, locate the
"SchoolLibraryItemProvider.java" file, and then open it..<br />
 <img src="images/img035.gif" alt=""/><br />&nbsp;<br />
 <img src="images/img036.gif" alt=""/><br />
<br />
</li>

<li>Locate the "getText()" method in the Outline view and select
it. The cursor in the main window will then move to that
method.<br />
 <img src="images/img037.gif" alt="" />
&nbsp;<br />
&nbsp;</li>

<li>Remove the string "School Library" in the return statement. In
order not to lose the change when the code is re-generated, the
"@generated" tag needs to be removed as well.<br />
<table border="1"><tr align="right"><td><b>Before:</b></td><td><img src="images/img038.gif" alt=""/></td></tr>
<tr align="right"><td><b>After:</b></td><td><img src="images/img039.gif" alt=""/></td></tr></table>
&nbsp;</li>

<li>Save the change, switch to the Debug perspective, launch the
run-time workbench instance and open "My.schoollibrary". You can
see the label for School Library now contains just the value of the
"location" attribute.<br />
 <img src="images/img040.gif" alt="" />
&nbsp;&nbsp;<br />
<br />
</li>

<li>In the above step, we have changed the original getText()
method. The "Label Feature" property on the "School Library" object
in the "schoollibrary.genmodel" now has no effect on the generated
code. This is because we have removed the "@generated" tag,
preventing it from being overwritten during code generation.<br />
<br />
</li>

<li>Suppose that now you have not yet decided whether your School
Library editor will display the value of the location attribute or
the value of the name attribute. Instead, you want to be able to
change it from the .genmodel "Label Feature" attribute later.
However, you do not want the prefix "School Library" displayed in
the editor. Can this be achieved?<br />
<br />
It can, but you need to write a little bit more code. Rename the
"getText()" method to "getTextGen()" (and keep the @generated tag)
and create a "getText()" method that will manipulate the string
returned by "getTextGen()" as follows:<br />
<br />
 <img src="images/img041.gif" alt=""/><br />
<br />
This is a feature of the codegen: When a method it is going to
generate already exists and does not have the "@generated" tag, it
will look for a method with the same name plus the suffix "Gen". If
the method exists and is tagged with "@generated", the content will
be generated into this method.<br />
<br />
</li>

<li>To show you that the method is really re-generated, remove the
method body of getTextGen(), and replace it with a return ""; statement.<br />
 <img src="images/img042.gif" alt=""/><br />
<br />
</li>

<li>Save the "SchoolLibraryItemProvider.java" file. Switch back to "schoollibrary.genmodel", select
"SchoolLibrary", and re-generate Edit code:<br />
<br />
 <img src="images/img043.gif" alt=""/><br />
<br />
</li>

<li>Now, switch back to the "getTextGen()" method in
"SchoolLibraryItemProvider.java". It now has content and the nullstring return has been replaced with the generated code once more.<br />
<br />
 <img src="images/img041.gif" alt=""/><br />
<br />
</li>

<li>You can go back to the "School Library" object in
"schoollibrary.genmodel" and change the "Label Feature" property,
&nbsp;regenerate the code and verify that the generated code does
indeed change according to the "Label Feature" property.</li>
</ul>

<hr />
<p style="text-align: right"><a id="appendix"
name="appendix">&nbsp;</a><a href="#top">contents</a></p>

<h2>Appendix: An Alternative Way of Generating the Model and
Editor</h2>

<p>If you do not already have the base model "Library" and its
editor generated in separate projects, you can have both the
"Library" and "School Library" models generated into the same set
of projects. This can be done either through a Rose model or
through a set of Java interfaces.</p>

<ol type="A">
<li>
<h4>Through Rose Model</h4>

<ul>
<li>This method is the same as is described above, except that you should select both the "library" and "schoollibrary" packages, just before clicking the "Finish"
button.<br />
 <img src="images/img045.gif" alt="" />
&nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp;</li>
</ul>
</li>

<li>
<h4>Through Java Interfaces:</h4>

<ul>
<li>This method is also very similar to the above described method, except that instead of creating the Project with a dependent "library" Project, you import the Library interfaces from the <a
href="images/../library.zip">library.zip</a> file (in addition to those imported from the <a
href="images/../schoollibrary.zip">schoollibrary.zip</a> file), and when creating the EMF Models, you must select both packages to generate and to reference from other generator models.<br />
 <img src="images/img046.gif" alt=""/><br />
 <img src="images/img047.gif" alt=""/><br />
 <img src="images/img048.gif" alt=""/><br />
<br />
</li>
</ul>
</li>
</ol>

<ul>
<li>When you launch the second workspace to test your new model, expand
the model and right-click on the top-level "Library" object. Select
the "New Child" menu item and you will see three type of children
objects that can be created. Note that "School Book" is included,
even though it is in the "Library" package.<br />
 <img src="images/img049.gif" alt=""/><br />&nbsp;<br/>
 <img src="images/img050.gif" alt=""/><br />
<br />
The "School Book" object is not available when the "Library" model
is generated on its own as in the previous tutorial because it does
not know about the existence of the "schoollibrary" package when
the model is being generated. Now when the base package and the
extended package are generated into the same project, they know
about each other. This feature occurs when multiple packages are
generated together.<br />
</li>
</ul>

<hr />
<p style="text-align: right"><a href="#top">contents</a></p>
</body>
</html>

