<project default="run" name="Project's .releng buildExtra.xml">

	<target name="init">
	</target>

	<target name="run">
	</target>

	<target name="extraPackaging">
		<!-- create All In One EMF/SDO/XSD SDK (remove examples & all feature) -->
		<zip destfile="${buildDirectory}/${buildLabel}/emf-xsd-SDK-${buildAlias}.zip" update="true" duplicate="preserve">
			<zipfileset src="${buildDirectory}/${buildLabel}/${allZip}" dirmode="775" filemode="664">
				<exclude name="**/org.eclipse.emf.all*" />
				<exclude name="**/org.eclipse.emf.all*/**" />
				<exclude name="**/org.eclipse.emf.build*" />
				<exclude name="**/org.eclipse.emf.build*/**" />
				<exclude name="**/org.eclipse.xsd.example_*" />
				<exclude name="**/org.eclipse.xsd.example_*/**" />
				<exclude name="**/org.eclipse.xsd.example.source_*" />
				<exclude name="**/org.eclipse.xsd.example.source_*/**" />
				<exclude name="**/org.eclipse.*.examples*" />
				<exclude name="**/org.eclipse.*.examples*/**" />
				<exclude name="**/org.eclipse.emf.activities*" />
				<exclude name="**/org.eclipse.emf.activities*/**" />
				<exclude name="**/org.eclipse.emf.exporter.html*" />
				<exclude name="**/org.eclipse.emf.exporter.html*/**" />
				<exclude name="**/org.eclipse.emf.java*" />
				<exclude name="**/org.eclipse.emf.java*/**" />
				<exclude name="**/org.eclipse.emf.rap*" />
				<exclude name="**/org.eclipse.emf.rap*/**" />
			</zipfileset>
			<zipfileset src="${buildDirectory}/${buildLabel}/${allZip}" dirmode="775" filemode="664" id="rootfiles" includes="**/eclipse/epl-v10.html, **/eclipse/notice.html" />
		</zip>

		<!-- create EMF sourcedoc (new) -->
		<zip destfile="${buildDirectory}/${buildLabel}/emf-sourcedoc-${buildAlias}.zip" update="true" duplicate="preserve">
			<zipfileset src="${buildDirectory}/${buildLabel}/${allZip}" dirmode="775" filemode="664">
				<exclude name="**/org.eclipse.emf.mapping.xsd*" />
				<exclude name="**/org.eclipse.emf.mapping.xsd*/**" />
				<exclude name="**/org.eclipse.emf.examples*" />
				<exclude name="**/org.eclipse.emf.examples*/**" />
				<exclude name="**/org.eclipse.emf.exporter.html*" />
				<exclude name="**/org.eclipse.emf.exporter.html*/**" />
				<exclude name="**/org.eclipse.emf.java*" />
				<exclude name="**/org.eclipse.emf.java*/**" />
				<include name="**/org.eclipse.emf.cheatsheets*" />
				<include name="**/org.eclipse.emf.cheatsheets*/**" />
				<include name="**/*.emf.doc_*" />
				<include name="**/*.emf.doc_*/**" />
				<include name="**/*.emf*.source_*" />
				<include name="**/*.emf*.source_*/**" />
			</zipfileset>
			<zipfileset refid="rootfiles" />
		</zip>

		<!-- create EMF runtime (new) -->
		<zip destfile="${buildDirectory}/${buildLabel}/emf-runtime-${buildAlias}.zip" update="true" duplicate="preserve">
			<zipfileset src="${buildDirectory}/${buildLabel}/${allZip}" dirmode="775" filemode="664">
				<exclude name="**/org.eclipse.xsd*" />
				<exclude name="**/org.eclipse.xsd*/**" />
				<exclude name="**/org.eclipse.emf.all*" />
				<exclude name="**/org.eclipse.emf.all*/**" />
				<exclude name="**/org.eclipse.emf.build*" />
				<exclude name="**/org.eclipse.emf.build*/**" />
				<exclude name="**/org.eclipse.emf.mapping.xsd*" />
				<exclude name="**/org.eclipse.emf.mapping.xsd*/**" />
				<exclude name="**/org.eclipse.*.example*" />
				<exclude name="**/org.eclipse.*.example*/**" />
				<exclude name="**/org.eclipse.emf.activities*" />
				<exclude name="**/org.eclipse.emf.activities*/**" />
				<exclude name="**/org.eclipse.emf.exporter.html*" />
				<exclude name="**/org.eclipse.emf.exporter.html*/**" />
				<exclude name="**/org.eclipse.emf.java*" />
				<exclude name="**/org.eclipse.emf.java*/**" />
				<exclude name="**/org.eclipse.emf.rap*" />
				<exclude name="**/org.eclipse.emf.rap*/**" />
				<exclude name="**/org.eclipse.*.cheatsheets*" />
				<exclude name="**/org.eclipse.*.cheatsheets*/**" />
				<exclude name="**/*.sdk_*" />
				<exclude name="**/*.sdk_*/**" />
				<exclude name="**/*.doc_*" />
				<exclude name="**/*.doc_*/**" />
				<exclude name="**/*.source_*" />
				<exclude name="**/*.source_*/**" />
			</zipfileset>
			<zipfileset refid="rootfiles" />
		</zip>

		<!-- create XSD sourcedoc (new) -->
		<zip destfile="${buildDirectory}/${buildLabel}/xsd-sourcedoc-${buildAlias}.zip" update="true" duplicate="preserve">
			<zipfileset src="${buildDirectory}/${buildLabel}/${allZip}" dirmode="775" filemode="664">
				<exclude name="**/org.eclipse.xsd.example*" />
				<exclude name="**/org.eclipse.xsd.example*/**" />
				<include name="**/org.eclipse.xsd.cheatsheets*" />
				<include name="**/org.eclipse.xsd.cheatsheets*/**" />
				<include name="**/*.xsd.doc_*" />
				<include name="**/*.xsd.doc_*/**" />
				<include name="**/*.xsd*.source_*" />
				<include name="**/*.xsd*.source_*/**" />
				<include name="**/org.eclipse.emf.mapping.xsd*.source_*" />
				<include name="**/org.eclipse.emf.mapping.xsd*.source_*/**" />
			</zipfileset>
			<zipfileset refid="rootfiles" />
		</zip>

		<!-- create XSD runtime -->
		<zip destfile="${buildDirectory}/${buildLabel}/xsd-runtime-${buildAlias}.zip" update="true" duplicate="preserve">
			<zipfileset src="${buildDirectory}/${buildLabel}/${allZip}" dirmode="775" filemode="664" excludes="**/org.eclipse.emf*, **/org.eclipse.emf*/**, **/org.eclipse.*.cheatsheets*, **/org.eclipse.*.cheatsheets*/**, **/org.eclipse.*.example*, **/org.eclipse.*.example*/**, **/org.eclipse.*.sdk*, **/org.eclipse.*.sdk*/**, **/org.eclipse.*.all*, **/org.eclipse.*.all*/*, **/org.eclipse.*.doc*, **/org.eclipse.*.doc*/**, **/org.eclipse.*.source*, **/org.eclipse.*.source*/**, **/*src.zip" />
			<zipfileset src="${buildDirectory}/${buildLabel}/${allZip}" dirmode="775" filemode="664" excludes="${RTExcludes}">
				<exclude name="**/*.source_*" />
				<exclude name="**/*.source_*/**" />
				<include name="**/org.eclipse.emf.mapping.xsd*" />
				<include name="**/org.eclipse.emf.mapping.xsd*/**" />
			</zipfileset>
			<zipfileset refid="rootfiles" />
		</zip>

		<!-- create Examples -->
		<zip destfile="${buildDirectory}/${buildLabel}/emf-xsd-Examples-${buildAlias}.zip" update="true" duplicate="preserve">
			<zipfileset src="${buildDirectory}/${buildLabel}/${allZip}" dirmode="775" filemode="664">
				<include name="**/plugins/org.eclipse.xsd.example*_*.jar" />
				<exclude name="**/org.eclipse.*.example.installer*" />
				<exclude name="**/org.eclipse.*.example.installer*/**" />
				<include name="**/org.eclipse.*.example*" />
				<include name="**/org.eclipse.*.example*/**" />
				<include name="**/org.eclipse.emf.activities*" />
				<include name="**/org.eclipse.emf.activities*/**" />
				<include name="**/org.eclipse.emf.exporter.html*" />
				<include name="**/org.eclipse.emf.exporter.html*/**" />
				<include name="**/org.eclipse.emf.java*" />
				<include name="**/org.eclipse.emf.java*/**" />
			</zipfileset>
			<zipfileset refid="rootfiles" />
		</zip>

		<!-- purge unneeded emf-xsd-ALL zip -->
		<delete file="${buildDirectory}/${buildLabel}/${allZip}" />
	</target>

	<target name="getDependencies">
	</target>
</project>
